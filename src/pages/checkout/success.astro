---
import Layout from "../../layouts/Layout.astro";
import { HiCheckCircle, HiHome, HiShoppingBag } from "react-icons/hi2";
import styles from "./styles/success.module.css";
---

<Layout title="Compra Exitosa | MarketFlex" simple>
    <div class={styles.successContainer}>
        <div class={styles.successCard}>
            <div class={styles.iconWrapper}>
                <HiCheckCircle />
            </div>

            <h1 class={styles.successTitle}>¡Compra Exitosa!</h1>
            <p class={styles.successSubtitle}>
                Gracias por confiar en MarketFlex. Tu pedido ha sido procesado
                correctamente.
            </p>

            <div class={styles.orderInfo}>
                <div class={styles.infoRow}>
                    <span>Estado del Pedido</span>
                    <span class={styles.statusBadge}>Confirmado</span>
                </div>
                <div
                    class={`${styles.infoRow} ${styles.totalRow}`}
                    id="total-display"
                >
                    <span>Monto Pagado</span>
                    <strong id="monto-valor">$0</strong>
                </div>
            </div>

            <p class={styles.emailNotice}>
                Hemos enviado un correo electrónico con el resumen detallado de
                tu compra y los pasos a seguir.
            </p>

            <div class={styles.actions}>
                <a href="/" class={styles.btnPrimary}>
                    <HiHome />
                    Volver al Inicio
                </a>
                <a href="/search" class={styles.btnSecondary}>
                    <HiShoppingBag />
                    Seguir Comprando
                </a>
            </div>
        </div>
    </div>
</Layout>

<script>
    import { initCheckoutSuccess } from "../../scripts/checkout-success";

    // Initialize
    initCheckoutSuccess();

    // Support View Transitions
    document.addEventListener("astro:page-load", initCheckoutSuccess);
</script>
