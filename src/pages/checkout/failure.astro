---
import Layout from "../../layouts/Layout.astro";
import { HiXCircle, HiArrowLeft, HiChatBubbleLeftRight } from "react-icons/hi2";
import styles from "./styles/failure.module.css";
---

<Layout title="Error en la Compra | MarketFlex" simple>
    <main class={styles.failureContainer}>
        <div class={styles.failureCard}>
            <!-- Icono de Error -->
            <div class={styles.iconWrapper}>
                <div class={styles.iconBg}></div>
                <HiXCircle className={styles.errorIcon} />
            </div>

            <!-- Título y Descripción -->
            <h1 class={styles.title}>¡Ups! Algo salió mal</h1>
            <p class={styles.description}>
                No pudimos procesar tu pedido en este momento. Puede deberse a
                un problema con el método de pago o de conexión.
            </p>

            <!-- Cuadro de Información (Mock) -->
            <div class={styles.infoBox}>
                <div class={styles.infoItem}>
                    <span class={styles.infoLabel}>Estado de la Orden</span>
                    <span class={styles.statusBadge}>Rechazada</span>
                </div>
                <div
                    class={styles.infoItem}
                    style={{
                        marginTop: "0.5rem",
                        borderTop: "1px solid rgba(255,255,255,0.05)",
                        paddingTop: "1rem",
                    }}
                >
                    <span class={styles.infoLabel}>Motivo</span>
                    <span class={styles.errorMsg}>Transacción interrumpida</span
                    >
                </div>
            </div>

            <!-- Botones de Acción -->
            <div class={styles.actions}>
                <a
                    href="/checkout"
                    class={`${styles.btn} ${styles.btnPrimary}`}
                >
                    <HiArrowLeft />
                    Reintentar Pago
                </a>
                <a
                    href="/soporte"
                    class={`${styles.btn} ${styles.btnSecondary}`}
                >
                    <HiChatBubbleLeftRight />
                    Contactar Soporte
                </a>
            </div>
        </div>
    </main>
</Layout>

<script>
    import { initCheckoutFailure } from "../../scripts/checkout-failure";

    // Initialize
    initCheckoutFailure();

    // Support View Transitions
    document.addEventListener("astro:page-load", initCheckoutFailure);
</script>
