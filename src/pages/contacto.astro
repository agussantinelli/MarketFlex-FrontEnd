---
import Layout from "../layouts/Layout.astro";
import PageCard from "../components/common/PageCard.astro";
import { Icon } from "astro-icon/components";
import Notifications from "../components/common/Notifications";
import styles from "./styles/contacto.module.css";
---

<Layout
    title="Contacto | MarketFlex"
    description="Ponte en contacto con el equipo de MarketFlex"
>
    <PageCard maxWidth="1000px">
        <header class={styles.pageHeader}>
            <h1>Contacto</h1>
            <p>
                Estamos aquí para ayudarte. Escríbenos y te responderemos lo
                antes posible.
            </p>
        </header>

        <div class={styles.contactContent}>
            <div class={styles.contactInfo}>
                <div class={styles.infoCard}>
                    <Icon name="lucide:mail" class={styles.infoIcon} />
                    <h3>Email</h3>
                    <p>marketflex10@gmail.com</p>
                </div>
                <div class={styles.infoCard}>
                    <Icon name="lucide:map-pin" class={styles.infoIcon} />
                    <h3>Oficinas</h3>
                    <p>Rosario, Santa Fe, Argentina</p>
                </div>
                <div class={styles.infoCard}>
                    <Icon name="lucide:clock" class={styles.infoIcon} />
                    <h3>Horario</h3>
                    <p>Lunes a Viernes, 9:00 - 18:00</p>
                </div>
            </div>

            <form id="support-form" class={styles.contactForm}>
                <div class={styles.formGroup}>
                    <label for="name">Nombre Completo</label>
                    <input
                        type="text"
                        id="name"
                        name="name"
                        required
                        placeholder="Ej: Agustín Santinelli"
                    />
                </div>
                <div class={styles.formGroup}>
                    <label for="email">Correo Electrónico</label>
                    <input
                        type="email"
                        id="email"
                        name="email"
                        required
                        placeholder="tu@email.com"
                    />
                </div>
                <div class={styles.formGroup}>
                    <label for="subject">Asunto</label>
                    <input
                        type="text"
                        id="subject"
                        name="subject"
                        required
                        placeholder="¿En qué podemos ayudarte?"
                    />
                </div>
                <div class={styles.formGroup}>
                    <label for="message">Mensaje</label>
                    <textarea
                        id="message"
                        name="message"
                        rows="5"
                        required
                        placeholder="Escribe tu mensaje aquí..."></textarea>
                </div>
                <button type="submit" class={styles.submitBtn}
                    >Enviar Mensaje</button
                >
            </form>
        </div>
    </PageCard>

    <Notifications
        client:only="react"
        message="¡Mensaje enviado correctamente! Te contactaremos pronto."
        type="success"
        delay={100}
        position="top-center"
        requiredQueryParam="support_success"
    />
    <Notifications
        client:only="react"
        message="Error al enviar el mensaje. Inténtalo de nuevo."
        type="error"
        delay={100}
        position="top-center"
        requiredQueryParam="support_error"
    />
</Layout>

<script>
    import { initContactForm } from "../scripts/contact";

    // Initialize on load
    initContactForm();

    // Support for View Transitions
    document.addEventListener("astro:page-load", initContactForm);
</script>
