---
import Layout from "../layouts/Layout.astro";
import PageCard from "../components/common/PageCard.astro";
import { Icon } from "astro-icon/components";

const faqs = [
    {
        question: "¿Qué es MarketFlex?",
        answer: "MarketFlex es una plataforma de comercio digital diseñada para adaptarse a cualquier tipo de mercado, permitiendo la venta de productos físicos, digitales e intangibles de manera segura y veloz.",
    },
    {
        question: "¿Cómo funciona la Arquitectura de Islas de Astro?",
        answer: "Utilizamos Astro para renderizar la gran mayoría de la página en el servidor (HTML estático), garantizando la máxima velocidad de carga posible. Solo utilizamos React en componentes específicos ('Islas') que requieren interactividad, como el carrito o las notificaciones.",
    },
    {
        question: "¿Qué métodos de inicio de sesión soportan?",
        answer: "Además del clásico ingreso con correo electrónico y contraseña, MarketFlex soporta integración OAuth nativa para que puedas iniciar sesión de forma segura y rápida con tus cuentas de Google y Facebook.",
    },
    {
        question: "¿Cómo aseguran la privacidad y seguridad de mis datos?",
        answer: "Tus datos viajan siempre encriptados ('HTTPS'), las contraseñas se almacenan mediante hashes seguros (bcrypt) y la gestión de sesiones emplea tokens JWT con políticas estrictas contra ataques.",
    },
    {
        question: "¿El marketplace acepta distintos tipos de producto?",
        answer: "Sí, la lógica base de MarketFlex fue construida de forma agnóstica empleando un diseño 'Feature-Based'. Se pueden catalogar distintos tipos de productos con atributos personalizados variables.",
    },
];
---

<Layout
    title="FAQ | MarketFlex"
    description="Preguntas Frecuentes sobre MarketFlex"
>
    <PageCard maxWidth="800px">
        <header class="page-header">
            <h1>Preguntas Frecuentes</h1>
            <p>
                Resolvemos tus principales dudas sobre el funcionamiento de
                nuestra plataforma.
            </p>
        </header>

        <div class="faq-list">
            {
                faqs.map((faq) => (
                    <details class="faq-item" name="faq-accordion">
                        <summary class="faq-question">
                            <span>{faq.question}</span>
                            <Icon name="lucide:chevron-down" class="chevron" />
                        </summary>
                        <div class="faq-answer">
                            <p>{faq.answer}</p>
                        </div>
                    </details>
                ))
            }
        </div>
    </PageCard>
</Layout>

<style>
    .page-header {
        text-align: center;
        margin-bottom: 4rem;
    }

    .page-header h1 {
        font-size: 3rem;
        font-weight: 800;
        letter-spacing: -0.02em;
        margin-bottom: 1rem;
        color: #1a1a1a;
    }

    .page-header p {
        color: #666;
        font-size: 1.1rem;
    }

    .faq-list {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .faq-item {
        background: #f5f7fa;
        border: 1px solid #e1e4e8;
        border-radius: 16px;
        overflow: hidden;
        transition:
            border-color 0.2s,
            background 0.2s,
            box-shadow 0.2s;
    }

    .faq-item:hover {
        background: #ffffff;
        border-color: var(--green-primary);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }

    .faq-question {
        padding: 1.5rem 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        cursor: pointer;
        color: #1a1a1a;
        font-weight: 600;
        font-size: 1.1rem;
        user-select: none;
        list-style: none; /* Hide default triangle */
    }

    .faq-question::-webkit-details-marker {
        display: none; /* Hide default triangle in WebKit */
    }

    .chevron {
        color: var(--green-primary);
        transition: transform 0.3s ease;
        flex-shrink: 0;
        width: 24px;
        height: 24px;
    }

    details[open] .chevron {
        transform: rotate(180deg);
    }

    details[open] .faq-item {
        border-color: var(--green-primary);
        background: #ffffff;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }

    .faq-answer {
        padding: 0 2rem 1.5rem;
        color: #666;
        line-height: 1.6;
        animation: slideDown 0.3s ease-out;
    }

    .faq-answer p {
        margin: 0;
    }

    @keyframes slideDown {
        from {
            opacity: 0;
            transform: translateY(-10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
</style>
