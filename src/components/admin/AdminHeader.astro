---
import { Icon } from "astro-icon/components";
import UserDropdown from "../shared/UserDropdown.astro";
import styles from "./styles/AdminHeader.module.css";

interface Props {
    title: string;
}

const { title } = Astro.props;
---

<header class={styles.adminHeader}>
    <div class={styles.headerLeft}>
        <button
            id="sidebar-toggle"
            class={styles.mobileMenuBtn}
            aria-label="Abrir menú"
        >
            <Icon name="lucide:menu" class={styles.menuIcon} />
        </button>
        <div class={styles.breadcrumb}>
            <a href="/admin/dashboard" class={styles.breadcrumbText}
                >Administración</a
            >
            <Icon name="lucide:chevron-right" class={styles.breadcrumbIcon} />
            <span class={styles.breadcrumbTitle}>{title}</span>
        </div>
    </div>

    <div class={styles.headerRight}>
        <UserDropdown />
    </div>
</header>

<script>
    const btn = document.getElementById("sidebar-toggle");
    if (btn) {
        btn.addEventListener("click", () => {
            window.dispatchEvent(new CustomEvent("toggle-admin-sidebar"));
        });
    }
</script>
