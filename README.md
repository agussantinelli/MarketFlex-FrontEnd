<h1 align="center">ğŸš€ MarketFlex - FrontEnd</h1>
<p align="center">
  <img src="./public/logo-marketflex-circle.png" alt="MarketFlex Logo" width="150" height="150">
</p>

<p align="center">
    <a href="https://github.com/agussantinelli/MarketFlex-FrontEnd" target="_blank">
        <img src="https://img.shields.io/badge/ğŸš€%20Repo%20Frontend%20(EstÃ¡s%20AquÃ­)-Astro-BC52EE?style=for-the-badge&logo=astro&logoColor=white" alt="Frontend Repo Badge"/>
    </a>
    <a href="https://github.com/agussantinelli/MarketFlex-BackEnd" target="_blank">
        <img src="https://img.shields.io/badge/âš™ï¸%20Repo%20Backend-Node.js%20%26%20Hono-E0234E?style=for-the-badge&logo=hono&logoColor=white" alt="Backend Repo Badge"/>
    </a>
    <a href="https://github.com/agussantinelli" target="_blank">
        <img src="https://img.shields.io/badge/ğŸ‘¤%20Contacto-agussantinelli-000000?style=for-the-badge&logo=github&logoColor=white" alt="Contact Badge"/>
    </a>
</p>

<div align="center">
    <img src="https://img.shields.io/badge/Astro-5.17.1-BC52EE?style=for-the-badge&logo=astro&logoColor=white" alt="Astro Badge">
    <img src="https://img.shields.io/badge/React-19.2.4-61DAFB?style=for-the-badge&logo=react&logoColor=white" alt="React Badge">
    <img src="https://img.shields.io/badge/Sileo-0.1.1-FFD700?style=for-the-badge&logo=vlc&logoColor=black" alt="Sileo Badge">
    <img src="https://img.shields.io/badge/TypeScript-5.9.3-3178C6?style=for-the-badge&logo=typescript&logoColor=white" alt="TS Badge">
    <img src="https://img.shields.io/badge/OpenAPI-Consuming-6BA539?style=for-the-badge&logo=openapiinitiative&logoColor=white" alt="OpenAPI Badge">
    <img src="https://img.shields.io/badge/Zustand-5.0.11-764ABC?style=for-the-badge&logo=zustand&logoColor=white" alt="Zustand Badge">
    <img src="https://img.shields.io/badge/Nanostores-1.1.0-3178C6?style=for-the-badge&logo=atom&logoColor=white" alt="Nanostores Badge">
    <img src="https://img.shields.io/badge/pnpm-10+-F69220?style=for-the-badge&logo=pnpm&logoColor=white" alt="pnpm Badge">
    <img src="https://img.shields.io/badge/Ky-1.14.3-FF4081?style=for-the-badge&logo=ky&logoColor=white" alt="Ky Badge">
    <img src="https://img.shields.io/badge/Lucide_Icons-0.575.0-F56565?style=for-the-badge&logo=lucide&logoColor=white" alt="Lucide Badge">
    <img src="https://img.shields.io/badge/React_Icons-5.5.0-E91E63?style=for-the-badge&logo=react&logoColor=white" alt="React-Icons Badge">
    <img src="https://img.shields.io/badge/Google_Sign--In-GSI-4285F4?style=for-the-badge&logo=google&logoColor=white" alt="Google Sign-In Badge">
    <img src="https://img.shields.io/badge/Facebook_Login-SDK-1877F2?style=for-the-badge&logo=facebook&logoColor=white" alt="Facebook Login Badge">
    <img src="https://img.shields.io/badge/Recharts-3.7.0-22B573?style=for-the-badge&logo=recharts&logoColor=white" alt="Recharts Badge">
    <img src="https://img.shields.io/badge/ApexCharts-5.6.0-008FFB?style=for-the-badge&logo=apexcharts&logoColor=white" alt="ApexCharts Badge">
    <img src="https://img.shields.io/badge/Chart.js-4.5.1-FF6384?style=for-the-badge&logo=chartdotjs&logoColor=white" alt="Chart.js Badge">
    <img src="https://img.shields.io/badge/JWT-Auth-black?style=for-the-badge&logo=jsonwebtokens&logoColor=white" alt="JWT Badge">
    <img src="https://img.shields.io/badge/reCAPTCHA-v3-4285F4?style=for-the-badge&logo=google&logoColor=white" alt="reCAPTCHA Badge">
    <img src="https://img.shields.io/badge/HTTPS-mkcert-003666?style=for-the-badge&logo=letsencrypt&logoColor=white" alt="mkcert Badge">
    <img src="https://img.shields.io/badge/Vite-6.x-646CFF?style=for-the-badge&logo=vite&logoColor=white" alt="Vite Badge">
    <img src="https://img.shields.io/badge/Vitest-4.0.18-6E9F18?style=for-the-badge&logo=vitest&logoColor=white" alt="Vitest Badge">
    <img src="https://img.shields.io/badge/MSW-2.x-FF6A00?style=for-the-badge&logo=mockserviceworker&logoColor=white" alt="MSW Badge">
    <img src="https://img.shields.io/badge/Playwright-1.58.2-2EAD33?style=for-the-badge&logo=playwright&logoColor=white" alt="Playwright Badge">
    <img src="https://img.shields.io/badge/Test_Enforcement-Mandatory-orange?style=for-the-badge&logo=vitest&logoColor=white" alt="Test Enforcement Badge">
</div>

<div align="center">
    <a href="https://drive.google.com/drive/folders/1qDvPJkxC14DdE-JEqHtvR_LL-ULDbvRL" target="_blank">
        <img src="https://img.shields.io/badge/ğŸ“‚%20Drive%20DocumentaciÃ³n-4285F4?style=for-the-badge&logo=googledrive&logoColor=white" alt="Drive Docs Badge"/>
    </a>
</div>

<div align="center">
  <img src="https://img.shields.io/badge/Copyright-All_Rights_Reserved-red?style=for-the-badge&logo=copyright&logoColor=white" alt="Copyright Badge"/>
</div>
<hr>

<h2>ğŸŒ€ El Factor Flex: Adaptabilidad Sin LÃ­mites</h2>
<p align="center">
  <i>"Un solo nÃºcleo, infinitas posibilidades."</i>
</p>
<p>
  Lo mÃ¡s importante de <b>MarketFlex</b> es su capacidad de metamorfosis. La arquitectura estÃ¡ diseÃ±ada para que la interfaz pueda ser adaptada a <b>marketplaces con orientaciones completamente distintas</b> sin reescribir la lÃ³gica base. 
  <br><br>
  Desde un retail de moda hasta una plataforma de servicios profesionales o un mercado de coleccionables digitales; la UI se amolda a la naturaleza del producto.
</p>


<hr>

<h2>ğŸ› ï¸ Stack TecnolÃ³gico</h2>
<table>
    <thead>
        <tr>
            <th>Capa / Ãrea</th>
            <th>TecnologÃ­a</th>
            <th>VersiÃ³n / Detalle</th>
            <th>Uso Principal</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><strong>Runtime</strong></td>
            <td>Node.js</td>
            <td><strong>20+</strong> (LTS)</td>
            <td>Entorno de ejecuciÃ³n y construcciÃ³n del proyecto.</td>
        </tr>
        <tr>
            <td><strong>Framework</strong></td>
            <td>Astro</td>
            <td><strong>^5.17.1</strong></td>
            <td>Arquitectura de islas, rendimiento y routing.</td>
        </tr>
        <tr>
            <td><strong>Lenguaje</strong></td>
            <td>TypeScript</td>
            <td><strong>^5.9.3</strong></td>
            <td>Tipado estricto para componentes y lÃ³gica de negocio.</td>
        </tr>
        <tr>
            <td><strong>Estilos</strong></td>
            <td>CSS Modules (Scoped)</td>
            <td>.module.css</td>
            <td>Estilizado modular con aislamiento automÃ¡tico por componente.</td>
        </tr>
        <tr>
            <td><strong>E2E Testing</strong></td>
            <td>Playwright</td>
            <td><strong>^1.58.2</strong></td>
            <td>Pruebas de punta a punta en navegadores reales.</td>
        </tr>
        <tr>
            <td><strong>Unit Testing</strong></td>
            <td>Vitest</td>
            <td><strong>^4.0.18</strong></td>
            <td>Pruebas unitarias ultrarrÃ¡pidas para servicios.</td>
        </tr>
        <tr>
            <td><strong>Mocking</strong></td>
            <td>MSW (Mock Service Worker)</td>
            <td><strong>^2.12.10</strong></td>
            <td>IntercepciÃ³n de red para pruebas deterministas.</td>
        </tr>
        <tr>
            <td><strong>Component Testing</strong></td>
            <td>React Testing Library</td>
            <td><strong>^16.3.2</strong></td>
            <td>Pruebas de comportamiento para componentes React.</td>
        </tr>
        <tr>
            <td><strong>Dependency Manager</strong></td>
            <td>pnpm</td>
            <td><strong>Latest</strong></td>
            <td>GestiÃ³n de dependencias eficiente y veloz.</td>
        </tr>
        <tr>
            <td><strong>Componentes</strong></td>
            <td>Astro Components</td>
            <td>.astro</td>
            <td>Componentes de servidor (SSR/SSG) por defecto.</td>
        </tr>
        <tr>
            <td><strong>IntegraciÃ³n</strong></td>
            <td>Ky</td>
            <td><strong>^1.14.3</strong></td>
            <td>Consumo de la API Backend (ligero y moderno).</td>
        </tr>
        <tr>
            <td><strong>Iconos</strong></td>
            <td>astro-icon, Lucide & react-icons</td>
            <td><strong>^1.1.5 / ^0.575.0 / ^5.5.0</strong></td>
            <td>IconografÃ­a SVG optimizada, librerÃ­as modernas para React y animaciones.</td>
        </tr>
        <tr>
            <td><strong>VisualizaciÃ³n</strong></td>
            <td>Recharts, ApexCharts & Chart.js</td>
            <td><strong>^3.7.0 / ^5.6.0 / ^4.5.1</strong></td>
            <td>GrÃ¡ficos dinÃ¡micos y reportes administrativos interactivos.</td>
        </tr>
        <tr>
            <td><strong>TipografÃ­a</strong></td>
            <td>@fontsource/inter</td>
            <td><strong>^5.2.8</strong></td>
            <td>GestiÃ³n de fuentes local (sin llamadas externas).</td>
        </tr>
        <tr>
            <td><strong>Notificaciones</strong></td>
            <td>Sileo</td>
            <td><strong>^0.1.1</strong></td>
            <td>Sistema de avisos visuales con efectos "gooey".</td>
        </tr>
        <tr>
            <td><strong>UI Framework</strong></td>
            <td>React</td>
            <td><strong>^19.2.4</strong></td>
            <td>Soporte para componentes interactivos y librerÃ­as externas.</td>
        </tr>
        <tr>
            <td><strong>DX Tools</strong></td>
            <td>Astro Check</td>
            <td><strong>^0.9.6</strong></td>
            <td>ValidaciÃ³n estÃ¡tica y visualizaciÃ³n de errores de Astro.</td>
        </tr>
        <tr>
            <td><strong>Auth Social</strong></td>
            <td>Google Sign-In (GSI)</td>
            <td><strong>Latest</strong></td>
            <td>Inicio de sesiÃ³n con cuenta de Google (Identity Services).</td>
        </tr>
        <tr>
            <td><strong>Auth Social</strong></td>
            <td>Facebook Login SDK</td>
            <td><strong>v21.0</strong></td>
            <td>Inicio de sesiÃ³n con cuenta de Facebook (JS SDK).</td>
        </tr>
        <tr>
            <td><strong>Seguridad</strong></td>
            <td>JWT & Refresh Tokens</td>
            <td><strong>Auto-Refresh</strong></td>
            <td>RenovaciÃ³n automÃ¡tica de sesiÃ³n interceptada vÃ­a Ky.</td>
        </tr>
        <tr>
            <td><strong>Anti-Bot</strong></td>
            <td>reCAPTCHA v3</td>
            <td><strong>Invisible</strong></td>
            <td>ProtecciÃ³n automÃ¡tica contra bots sin fricciÃ³n para el usuario.</td>
        </tr>
        <tr>
            <td><strong>Herramientas</strong></td>
            <td>vite-plugin-mkcert</td>
            <td><strong>^1.17.9</strong></td>
            <td>GeneraciÃ³n de certificados SSL (HTTPS Local) para OAuth.</td>
        </tr>
        <tr>
            <td><strong>State Management</strong></td>
            <td>Zustand & Nanostores</td>
            <td><strong>^5.0.11 / ^1.1.0</strong></td>
            <td>GestiÃ³n de estado global para React Islands y compartida entre frameworks (Astro/React).</td>
        </tr>
    </tbody>
</table>

<hr>

<h2>ğŸ“¦ CaracterÃ­sticas Principales</h2>
<ul>
  <li>ğŸ“Š <b>Admin Dashboard (Data-Driven):</b> Panel interactivo con mÃ©tricas reales y visualizaciones de tendencias mediante el componente `StatTable`, permitiendo una gestiÃ³n eficiente de ventas e ingresos.</li>
  <li>ğŸ›¡ï¸ <b>Ecosistema de Vistas Binarias:</b> Sistema inteligente que alterna entre el entorno de Administrador y Cliente con transiciones fluidas y limpieza de estados persistentes.</li>
  <li>ğŸ›’ <b>Experiencia de Carrito Premium:</b> DiseÃ±o basado en *Glassmorphism* de alta densidad con micro-animaciones, controles de cantidad tipo pildora y gestiÃ³n de estado atomizada mediante Nanostores.</li>
  <li>ğŸ›ï¸ <b>Checkout Multi-SecciÃ³n & Fluid:</b> Proceso de compra dividido en fases lÃ³gicas (Personal, EnvÃ­o, Pago) con validaciÃ³n en tiempo real y auto-completado inteligente.</li>
  <li>ğŸŒ™ <b>Dark Mode Nativo (High-End):</b> ImplementaciÃ³n de tema oscuro profundo con efectos de desenfoque y transparencias que realzan la estÃ©tica neÃ³n oficial de MarketFlex.</li>
  <li>ğŸï¸ <b>Arquitectura de Islas (Astro):</b> HidrataciÃ³n selectiva de componentes React solo cuando es necesario, garantizando tiempos de carga Ã­nfimos y un rendimiento excepcional.</li>
  <li>ğŸ” <b>Sistema de Filtrado Editorial:</b> Buscador avanzado con filtros multi-selecciÃ³n, persistencia en URL y soporte para claves fijas (`fixedKeys`) en contextos especÃ­ficos.</li>
  <li>ğŸ§® <b>Motor de Descuentos Sincronizado:</b> LÃ³gica de promociones NxM (3x2, 2x1) calculada en el cliente con precisiÃ³n absoluta respecto a las reglas del backend.</li>
  <li>ğŸ§ª <b>100% Logic Coverage:</b> Suite robusta de <b>216 tests unitarios</b> que cubren el 100% de la lÃ³gica de servicios, scripts, utilidades de imagen y estados globales.</li>
  <li>ğŸ”„ <b>InvalidaciÃ³n de Cache Inteligente:</b> DetecciÃ³n automÃ¡tica de re-seeds en la base de datos para forzar la limpieza del `localStorage`, evitando errores de inconsistencia de datos.</li>
  <li>ğŸ“± <b>Responsive Design de Alta Densidad:</b> Interfaz optimizada meticulosamente para dispositivos mÃ³viles, escalando sin pÃ©rdida de estÃ©tica o funcionalidad a pantallas de escritorio.</li>
  <li>ğŸ”’ <b>Seguridad & Anti-Bot:</b> IntegraciÃ³n profunda con JWT (Auto-Refresh), Google reCAPTCHA v3 e HTTPS local garantizado mediante certificados confiables.</li>
  <li>âš¡
 <b>Navbar Inteligente (Contextual):</b> NavegaciÃ³n jerÃ¡rquica con subcategorÃ­as anidadas, triggers de flecha y sistema de *hover delay* (2s) para una navegaciÃ³n fluida.</li>
  <li>ğŸ¡ <b>Componentes Visuales Premium:</b> Carruseles interactivos con estados dinÃ¡micos, badges sociales oficiales y micro-interacciones neÃ³n en toda la UI.</li>
  <li>âœ¨ <b>PÃ¡ginas de Contexto Curado:</b> Secciones dedicadas para Novedades (`/new-arrivals`) y Ofertas (`/offers`) con filtros pre-configurados y navegaciÃ³n optimizada.</li>
  <li>ğŸ›¡ï¸ <b>Mocking de API (MSW):</b> IntegraciÃ³n con Mock Service Worker para simular respuestas del backend en tests unitarios, permitiendo pruebas deterministas de interceptores y flujo de tokens.</li>
  <li>ğŸ·ï¸ <b>GestiÃ³n de Marcas & Editoriales:</b> MÃ³dulo administrativo completo para el control de marcas, con visualizaciÃ³n de productos asociados y validaciones integrales.</li>
  <li>ğŸ“ <b>GestiÃ³n de CategorÃ­as:</b> MÃ³dulo completo para administrar la jerarquÃ­a del catÃ¡logo, con conteo dinÃ¡mico de productos y restricciÃ³n de borrado de seguridad.</li>
</ul>
  
<hr>

<h2>ğŸ“Š Analytics Performance Platform</h2>
<p align="center">
  <i>"Donde los datos se transforman en decisiones estratÃ©gicas."</i>
</p>
<p>
  MarketFlex integra un motor de analÃ­ticas de alto rendimiento diseÃ±ado para ofrecer una visiÃ³n 360Â° del ecosistema de ventas. Esta plataforma no se limita a mostrar datos; utiliza una arquitectura de <b>Tres Motores de VisualizaciÃ³n</b> para adaptar cada mÃ©trica a su formato de lectura mÃ¡s eficiente:
</p>

<table>
    <thead>
        <tr>
            <th>Dashboard</th>
            <th>Motor Visual</th>
            <th>PropÃ³sito TÃ©cnico</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><b>EvoluciÃ³n de Ventas</b></td>
            <td><b>Recharts</b></td>
            <td>Ãreas suavizadas con gradientes neÃ³n para visualizaciÃ³n de tendencias de ingresos (12 meses).</td>
        </tr>
        <tr>
            <td><b>DistribuciÃ³n de CategorÃ­as</b></td>
            <td><b>Chart.js</b></td>
            <td>GrÃ¡ficos circulares reactivos con cÃ¡lculos porcentuales automÃ¡ticos y leyendas dinÃ¡micas.</td>
        </tr>
        <tr>
            <td><b>Rendimiento por Marcas</b></td>
            <td><b>ApexCharts</b></td>
            <td>Top 10 marcas con mayores ingresos brutos (Barras Horizontales).</td>
        </tr>
        <tr>
            <td><b>MÃ©todos de Pago</b></td>
            <td><b>Chart.js</b></td>
            <td>DistribuciÃ³n de ingresos segÃºn el medio de pago (Tarjeta, Efectivo, Transferencia).</td>
        </tr>
        <tr>
            <td><b>Mapa de Calor de Ventas</b></td>
            <td><b>ApexCharts</b></td>
            <td>AnÃ¡lisis de densidad por dÃ­a/hora (Ãšltimos 30 dÃ­as) para identificar picos de demanda.</td>
        </tr>
    </tbody>
</table>

<h3>ğŸš€ CaracterÃ­sticas de la Plataforma Analytics</h3>
<ul>
    <li><b>Arquitectura Zero-Delay:</b> Consumo directo de la API mediante Ky con tipado estricto para una respuesta instantÃ¡nea.</li>
    <li><b>VisualizaciÃ³n Neo-Dark:</b> DiseÃ±o optimizado para el tema oscuro con tooltips translÃºcidos y efectos de desenfoque.</li>
    <li><b>DetecciÃ³n de MÃ©tricas Clave:</b> CÃ¡lculo en tiempo real de ingresos liquidados, volumen por categorÃ­a y engagement de marca.</li>
    <li><b>Mini-Modales Informativos:</b> Sistema de iconos `(i)` que despliegan modales centrados con la explicaciÃ³n tÃ©cnica de cada indicador (Ratio de ConversiÃ³n, Recurrencia, etc.).</li>
    <li><b>Formatos Inteligentes:</b> LocalizaciÃ³n dinÃ¡mica de moneda (ARS) y ajuste de zona horaria (ART) para una precisiÃ³n absoluta en el mercado local.</li>
</ul>

<hr>

<h2>ğŸ¨ Experiencia Visual y FilosofÃ­a de DiseÃ±o</h2>
<p>
  La interfaz de MarketFlex no es solo estÃ©tica; es una declaraciÃ³n de principios sobre cÃ³mo debe sentirse una aplicaciÃ³n moderna de alta gama. Hemos fusionado un rendimiento extremo con un acabado visual que denominamos <b>"Neo-Premium"</b>.
</p>
<ul>
  <li><b>Glassmorphism de Alta Densidad:</b> Uso extensivo de desenfoques de fondo (backdrop-filter) y bordes translÃºcidos con brillos sutiles que generan una sensaciÃ³n de profundidad y capas reales.</li>
  <li><b>EstÃ©tica NeÃ³n & Dark Mode:</b> El modo oscuro es nativo y prioritario, utilizando una paleta de contrastes altos con acentos neÃ³n que guÃ­an la mirada del usuario hacia los puntos de acciÃ³n (CTA).</li>
  <li><b>Micro-animaciones de Estado:</b> Cada interacciÃ³n (un hover en el Navbar, una eliminaciÃ³n del carrito, una rotaciÃ³n de flecha) estÃ¡ acompaÃ±ada de transiciones suaves de 0.2s - 0.3s que refuerzan la sensaciÃ³n de fluidez y reactividad.</li>
  <li><b>Feedback Visual Gooey (Sileo):</b> Las notificaciones y alertas utilizan efectos de "viscosidad" visual (Gooey effect) para dar una sensaciÃ³n orgÃ¡nica y moderna lejos de los popups convencionales.</li>
  <li><b>DiseÃ±o Fluid & Mobile-First:</b> La experiencia en dispositivos mÃ³viles estÃ¡ tratada como una prioridad. Patrones de layout <i>grid/flexbox</i> dinÃ¡micos adaptan desde la grilla de productos hasta el panel del carrito de compras para mantener la elegancia y operabilidad tÃ¡ctil usando una sola mano.</li>
</ul>

<hr>

<h2>ğŸ‘ï¸ Sistema de Vistas Binarias (Administrador)</h2>
<p>Para simplificar y optimizar la experiencia de gestiÃ³n tÃ©cnica, MarketFlex implementa un sistema robusto de <b>Vistas Binarias</b> gestionado vÃ­a <code>localStorage</code> (<code>marketflex_admin:isAdminMode</code>) encapsulado en el menÃº de usuario. El comportamiento para las cuentas con el rol <code>admin</code> es el siguiente:</p>
<ul>
    <li><b>Landing por Defecto (Panel de AdministraciÃ³n):</b> Todo inicio de sesiÃ³n de administrador activa el modo admin por defecto y redirige inmediata y automÃ¡ticamente a <code>/admin/dashboard</code>. El administrador aterriza en su Ã¡rea de trabajo orientada a mÃ©tricas de forma fluida.</li>
    <li><b>Vista Cliente:</b> Estando en el panel, el menÃº desplegable del perfil superior expone un botÃ³n dedicado llamado <b>"Cambiar a Vista Cliente"</b>. Al accionarlo, el estado administrativo se pausa temporalmente (<code>isAdminMode="false"</code>), redirigiendo al usuario a la ruta raÃ­z (<code>/</code>). Esto permite navegar y auditar la tienda (productos, carritos, promociones) exactamente como un usuario estÃ¡ndar.</li>
    <li><b>Retorno al Panel de AdministraciÃ³n:</b> Mientras se audita la "Vista Cliente", el menÃº inteligente reestructura sus opciones: expone el botÃ³n <b>"Cambiar al Panel Administrador"</b> y las rutas tÃ­picas de cliente. Al accionarlo, se restaura el entorno administrativo devolviendo al staff a sus mÃ©tricas con un clic y cerrando el ciclo.</li>
</ul>

<hr>

<h2>ğŸï¸ Arquitectura de Componentes (Astro Islands)</h2>
<p>Este proyecto exhibe un rendimiento excepcional gracias a la implementaciÃ³n nativa y rigurosa de la <b>Arquitectura de Islas de Astro</b>. El patrÃ³n de diseÃ±o se estructura en las siguientes directrices operativas:</p>
<ul>
  <li><b>Esqueleto y Estructura (Astro Puro):</b> La inmensa mayorÃ­a de la UI (Barra de NavegaciÃ³n, Pie de PÃ¡gina, Tarjetas de Producto, Grillas y Formularios EstÃ¡ticos) se renderiza en el servidor vÃ­a componentes <code>.astro</code>. Esto expone un HTML sÃºper ligero con cero JavaScript bloqueante.</li>
  <li><b>Micro-Aislamiento Reactivo (React Islands):</b> Ãšnicamente los componentes que exigen interactividad de alta frecuencia, re-renderizado condicional o gestiÃ³n de estado compleja se construyen como Islas de React. Ejemplos crÃ­ticos de esto son: <code>&lt;CartView client:load /&gt;</code>, los flujos multi-paso de <code>&lt;CheckoutForm client:idle /&gt;</code>, el tablero interactivo <code>&lt;DashboardView client:only="react" /&gt;</code> y el sistema visual <code>&lt;Notifications /&gt;</code>.</li>
  <li><b>Scripts Locales (Vanilla TypeScript):</b> Para interactividad ligera que no justifica importar React (ej., abrir menÃºs superpuestos, manejar carruseles o peticiones de login), se emplea JavaScript/TypeScript vainilla encapsulado en etiquetas <code>&lt;script&gt;</code> y abstraÃ­do fÃ­sicamente en la carpeta <code>src/scripts/</code>, manteniendo el DOM libre de Virtual DOM overhead.</li>
  <li><b>Estilos Scoped (CSS Modules):</b> Siguiendo la skill de la arquitectura, cualquier CSS propio de un componente aislado se desarrolla mediante <code>.module.css</code>; asegurando que las reglas de diseÃ±o jamÃ¡s colisionen fuera del Ã¡mbito de esa Isla o componente.</li>
</ul>

<hr>

<h2>ğŸŒ Flujo de Datos y Consumo de API</h2>
<p>La comunicaciÃ³n con el backend se gestiona de forma robusta e interceptada utilizando <b>Ky</b>. Toda la configuraciÃ³n del cliente HTTP reside centralizada en <code>src/lib/api.ts</code>, garantizando un comportamiento predictible para todos los <code>services</code>.</p>
<ul>
  <li><b>IntercepciÃ³n de Salida (JWT Injector):</b> El hook <code>beforeRequest</code> inyecta automÃ¡ticamente el <code>marketflex_token</code> (Bearer) en los headers de toda peticiÃ³n saliente, exceptuando de forma inteligente las rutas pÃºblicas de autenticaciÃ³n (<code>/auth/</code>) para evitar colisiones.</li>
  <li><b>IntercepciÃ³n de Entrada (Auto-Refresh):</b> Un hook <code>afterResponse</code> vigila por errores <code>401 Unauthorized</code>. Si ocurren, el cliente pausa la ejecuciÃ³n, solicita transparentemente un nuevo par de tokens usando el <code>marketflex_refresh_token</code>, reescribe el localStorage y reintenta la peticiÃ³n original (clonada) sin que el usuario lo note o pierda su contexto (e.g. llenar un carrito).</li>
  <li><b>Manejo Global de Errores (Sileo Linked):</b> El mismo interceptor evalÃºa cualquier respuesta fallida (`!response.ok`), extrae el mensaje de error normalizado provisto por el backend, lo mapea usando un diccionario de errores amigables (e.g. <code>insufficient stock</code> â†’ "Stock insuficiente para uno o mÃ¡s productos") y lo dispara directamente a la UI llamando a <code>window.triggerSileo('error', ...)</code>, centralizando asÃ­ el feedback visual sin tener que rodear cada llamada de servicio en bloques `try/catch` manuales.</li>
</ul>

<hr>

<h2>ğŸ”” Manejo de Estados y Notificaciones</h2>
<p>Dada la arquitectura hÃ­brida de Astro, la gestiÃ³n del estado se divide estratÃ©gicamente segÃºn el contexto y el alcance temporal de los datos, garantizando rendimiento y reactividad instantÃ¡nea:</p>
<ul>
  <li><b>Zustand (Micro-Estados Complejos):</b> Se utiliza para manejar el estado altamente interactivo y persistente de caracterÃ­sticas crÃ­ticas del lado del cliente, como el <code>cartStore</code> y el <code>checkoutStore</code>. Al ser Ã¡gil y libre de boilerplate, permite sincronizar las React Islands encargadas de las compras con <code>localStorage</code> sin esfuerzo.</li>
  <li><b>Nanostores (Puente Multi-Framework):</b> Utilizado primordialmente en utilidades como <code>adminStore</code>. Su naturaleza agnÃ³stica al framework facilita cruzar la frontera de hidrataciÃ³n, permitiendo que tanto el cÃ³digo estÃ¡tico (Astro vanilla) como el interactivo (React) lean y muten el mismo estado base.</li>
  <li><b>Query Parameters (Estado Transitorio):</b> Para flujos de navegaciÃ³n que no ameritan un store en memoria (ej. informar si un Login fue exitoso), el sistema sigue confiando fuertemente en URLs limpias (ej. <code>?login_success=true&user=...</code>).</li>
  <li><b>Sistema Global de Notificaciones (Sileo):</b> Lejos de atar las notificaciones visuales al Virtual DOM completo, la app cuenta con un Ãºnico listener global de Sileo. Todos los scripts estÃ¡ticos, pÃ¡ginas Astro o interceptores de API pueden invocar un popup visual moderno simplemente ejecutando <code>window.triggerSileo('success' | 'error', mensaje)</code> sin depender de React Context o grandes proveedores globales.</li>
</ul>

<hr>

<h2>ğŸ“‘ Sistema de PaginaciÃ³n</h2>
<p>El marketplace utiliza un avanzado sistema de paginaciÃ³n renderizado en servidor (SSR) basado intrÃ­nsecamente en la URL. Esto garantiza indexaciÃ³n SEO perfecta, que los usuarios no pierdan su estado y puedan compartir enlaces directos a resultados especÃ­ficos.</p>
<ul>
    <li><b>GeneraciÃ³n DinÃ¡mica (Astro):</b> La paginaciÃ³n extrae parÃ¡metros complejos (como <code>?q=...&category=...&minPrice=...</code>) y los clona automÃ¡ticamente al generar los links HTTP de tipo <code>&lt;a href="..."&gt;</code> para las pÃ¡ginas colindantes, asegurando una <i>NavegaciÃ³n Persistente</i> donde jamÃ¡s perdÃ©s tus filtros activos.</li>
    <li><b>Metadatos Precisos:</b> Bloque informativo de ubicaciÃ³n renderizando el rango y recuento exacto devuelto por la API. (Ej: <i>"PÃ¡gina <b>2</b> de <b>10</b>, viendo los productos <b>21-40</b> de <b>200</b>"</i>).</li>
    <li><b>UI Premium Glassmorphism:</b> Estructurado internamente en dos bloques semÃ¡nticos (<code>.paginationControls</code> y <code>.paginationPages</code>) que interactÃºan con media queries:
        <ul>
            <li><b>Desktop:</b> Despliega la barra horizontal completa ofreciendo salto directo a pÃ¡ginas numÃ©ricas y botones perimetrales con iconos <i>Lucide</i>.</li>
            <li><b>Mobile:</b> El diseÃ±o colapsa inteligentemente la matriz numÃ©rica, dÃ¡ndole preponderancia visual a los botones tÃ¡ctiles adyacentes ("Anterior / Siguiente") para prevenir toques fantasma o errores de dedo.</li>
        </ul>
    </li>
</ul>

<hr>

<h2>ğŸ” Seguridad y AutenticaciÃ³n</h2>
<p>
  El sistema implementa sÃ³lidas capas de seguridad, gestionadas a travÃ©s del script unificado <code>auth-login.ts</code>, que centraliza toda la lÃ³gica de sesiÃ³n:
</p>
<ul>
  <li>
    <b>Sesiones Persistentes (Refresh Tokens):</b> Manejo seguro de sesiones duales. El <code>marketflex_token</code> (Access Token) se utiliza para peticiones, mientras que el <code>marketflex_refresh_token</code> permite renovar la sesiÃ³n de forma transparente (vÃ­a el interceptor de Ky) sin requerir re-logueos. La metadata (nombre, rol) se cachea en <code>marketflex_user</code>.
  </li>
  <li>
    <b>AutenticaciÃ³n ClÃ¡sica (Email/Password):</b> Formulario tradicional protegido, integrando transiciones visuales, checkboxes de "Recordar Email" (persistido en localStorage) y feedback de errores de servidor parseados directamente a notificaciones "Gooey" en pantalla mediante Sileo.
  </li>
  <li>
    <b>Login Social â€” Google GSI:</b> IntegraciÃ³n con la librerÃ­a moderna <b>Google Identity Services</b>. El botÃ³n se renderiza de manera nativa utilizando la API <code>google.accounts.id.renderButton</code> y se re-dibuja dinÃ¡micamente mediante un <code>ResizeObserver</code> para preservar proporciones visuales perfectas. Tras un callback exitoso, la aserciÃ³n JWT de Google es validada unÃ­vocamente en el backend.
  </li>
  <li>
    <b>Login Social â€” Facebook OAuth (Redirect Flow):</b> En lugar de depender de pesados y problemÃ¡ticos popups del SDK mediante <code>FB.login</code>, la plataforma utiliza el <b>Flujo Directo de RedirecciÃ³n OAuth</b>. Al hacer click, el usuario viaja a Facebook, y al autorizar, MarketFlex captura el <code>?code=</code> directamente en la ruta de origen, procesÃ¡ndolo <i>silentamente</i> por detrÃ¡s mientras se delega la obtenciÃ³n del token definitivo al backend (Auth Code Exchange), minimizando bloqueos por parte del navegador.
  </li>
  <li>
    <b>HTTPS en Desarrollo:</b> Uso de <code>vite-plugin-mkcert</code> para generar una Autoridad Certificadora (CA) local y certificados confiables. Esto elimina la advertencia de "ConexiÃ³n no privada" en el navegador y es un requisito estricto para probar configuraciones complejas de cookies <code>Secure</code> o probar el redirect de Facebook localmente sin fallos.
  </li>
</ul>

<hr>

<h2>ğŸ“ Estructura del Proyecto</h2>

<pre><code>MarketFlex-FrontEnd/
â”œâ”€â”€ .agent/                                         # ConfiguraciÃ³n del asistente y sus capacidades.
â”‚   â”œâ”€â”€ skills/                                     # GuÃ­as de arquitectura y desarrollo del proyecto.
â”‚   â””â”€â”€ workflows/                                  # AutomatizaciÃ³n de tareas complejas (Tests, E2E).
â”œâ”€â”€ .github/                                        # Ajustes de GitHub y CI/CD global.
â”‚   â””â”€â”€ workflows/                                  # DefiniciÃ³n de pipelines automatizados.
â”‚       â””â”€â”€ frontend-tests.yml                      # EjecuciÃ³n de tests unitarios y suite Playwright.
â”œâ”€â”€ .astro/                                         # Archivos temporales de compilaciÃ³n de Astro.
â”œâ”€â”€ public/                                         # Activos estÃ¡ticos servidos directamente (Iconos, Font).
â”‚   â”œâ”€â”€ background/                                 # GalerÃ­a de texturas tÃ©rmicas y fondos premium.
â”‚   â”œâ”€â”€ logos/                                      # Branding oficial y logotipos sociales.
â”‚   â””â”€â”€ ...                                         # Isotipos y recursos grÃ¡ficos adicionales.
â”œâ”€â”€ src/                                            # NÃºcleo del frontend de la aplicaciÃ³n.
â”‚   â”œâ”€â”€ components/                                 # Componentes reutilizables (Arquitectura de Islas).
â”‚   â”‚   â”œâ”€â”€ admin/                                  # Componentes para el panel de administraciÃ³n.
â”‚   â”‚   â”‚   â”œâ”€â”€ AdminHeader.astro                   # Barra superior administrativa con buscador y usuario.
â”‚   â”‚   â”‚   â”œâ”€â”€ AdminSidebar.test.tsx               # Test de renderizado y lÃ³gica del sidebar.
â”‚   â”‚   â”‚   â”œâ”€â”€ AdminSidebar.tsx                    # NavegaciÃ³n lateral principal panel privado.
â”‚   â”‚   â”‚   â”œâ”€â”€ AnalyticsView.test.tsx              # Pruebas de la vista de analÃ­ticas.
â”‚   â”‚   â”‚   â”œâ”€â”€ AnalyticsView.tsx                   # Vista de grÃ¡ficos y reportes de ventas (React).
â”‚   â”‚   â”‚   â”œâ”€â”€ BrandsListView.test.tsx             # Test de la gestiÃ³n de marcas y editoriales.
â”‚   â”‚   â”‚   â”œâ”€â”€ BrandsListView.tsx                  # Vista de administraciÃ³n de marcas (CRUD).
â”‚   â”‚   â”‚   â”œâ”€â”€ CharacteristicsListView.test.tsx    # Test de la gestiÃ³n de caracterÃ­sticas.
â”‚   â”‚   â”‚   â”œâ”€â”€ CharacteristicsListView.tsx         # Vista de administraciÃ³n de atributos dinÃ¡micos.
â”‚   â”‚   â”‚   â”œâ”€â”€ ClaimsListView.test.tsx             # Test de la gestiÃ³n de reclamos.
â”‚   â”‚   â”‚   â”œâ”€â”€ ClaimsListView.tsx                  # Vista de administraciÃ³n de incidencias de clientes.
â”‚   â”‚   â”‚   â”œâ”€â”€ DashboardView.test.tsx              # Pruebas del panel interactivo.
â”‚   â”‚   â”‚   â”œâ”€â”€ DashboardView.tsx                   # Vista principal de mÃ©tricas y ventas (React).
â”‚   â”‚   â”‚   â”œâ”€â”€ DataTable.test.tsx                  # Test unitario del componente de tabla universal.
â”‚   â”‚   â”‚   â”œâ”€â”€ DataTable.tsx                       # Tabla reutilizable y personalizable para CRUDs.
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductsListView.test.tsx           # Test integral de la gestiÃ³n de productos.
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductsListView.tsx                # Vista de administraciÃ³n del catÃ¡logo de productos.
â”‚   â”‚   â”‚   â”œâ”€â”€ PromotionsListView.tsx              # Vista de administraciÃ³n de promociones (Cards).
â”‚   â”‚   â”‚   â”œâ”€â”€ SalesListView.test.tsx              # Pruebas del listado de ventas administrativas.
â”‚   â”‚   â”‚   â”œâ”€â”€ SalesListView.tsx                   # Vista de administraciÃ³n de transacciones y ventas.
â”‚   â”‚   â”‚   â”œâ”€â”€ StatTable.test.tsx                  # Pruebas de la tabla de estadÃ­sticas administrativas.
â”‚   â”‚   â”‚   â”œâ”€â”€ StatTable.tsx                       # Componente reactivo para listar mÃ©tricas en detalle.
â”‚   â”‚   â”‚   â”œâ”€â”€ SupportListView.test.tsx            # Test integral de la gestiÃ³n de mensajes de soporte.
â”‚   â”‚   â”‚   â”œâ”€â”€ SupportListView.tsx                 # Vista de administraciÃ³n de mensajes de soporte. 
â”‚   â”‚   â”‚   â”œâ”€â”€ UsersListView.test.tsx              # Pruebas de la tabla de usuarios.
â”‚   â”‚   â”‚   â”œâ”€â”€ UsersListView.tsx                   # Componente reactivo para listar usuarios.
â”‚   â”‚   â”‚   â””â”€â”€ styles/                             # MÃ³dulos CSS administrativos.
â”‚   â”‚   â”‚       â”œâ”€â”€ AdminHeader.module.css          # Estilos de la barra de navegaciÃ³n superior.
â”‚   â”‚   â”‚       â”œâ”€â”€ AdminSidebar.module.css         # Estilos del menÃº lateral.
â”‚   â”‚   â”‚       â”œâ”€â”€ dashboard.module.css            # Estilos dedicados del dashboard.
â”‚   â”‚   â”‚       â”œâ”€â”€ DataTable.module.css            # Estilos premium para la tabla universal.
â”‚   â”‚   â”‚       â””â”€â”€ SalesListView.module.css        # Estilos dedicados de la vista de ventas.
â”‚   â”‚   â”œâ”€â”€ auth/                                   # UI de login, registro y validaciÃ³n social.
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthInputs.astro                    # Inputs estandarizados para formularios auth.
â”‚   â”‚   â”‚   â”œâ”€â”€ Captcha.astro                       # IntegraciÃ³n visual de Google reCAPTCHA v3.
â”‚   â”‚   â”‚   â””â”€â”€ styles/                             # MÃ³dulos CSS especÃ­ficos de auth.
â”‚   â”‚   â”‚       â””â”€â”€ AuthInputs.module.css           # Estilos de los inputs de autenticaciÃ³n.
â”‚   â”‚   â”œâ”€â”€ cart/                                   # GestiÃ³n visual del carrito de compras.
â”‚   â”‚   â”‚   â”œâ”€â”€ CartView.test.tsx                   # Test del panel interactivo de carrito.
â”‚   â”‚   â”‚   â”œâ”€â”€ CartView.tsx                        # UI de gestiÃ³n de Ã­tems y totales (React).
â”‚   â”‚   â”‚   â””â”€â”€ styles/                             # Estilos modulares del carrito.
â”‚   â”‚   â”‚       â””â”€â”€ CartView.module.css             # DiseÃ±o premium del panel lateral de compra.
â”‚   â”‚   â”œâ”€â”€ checkout/                               # Flujo final de transacciÃ³n.
â”‚   â”‚   â”‚   â”œâ”€â”€ CheckoutForm.test.tsx               # Test de validaciÃ³n del formulario de pago.
â”‚   â”‚   â”‚   â”œâ”€â”€ CheckoutForm.tsx                    # Formulario multi-paso de envÃ­o (React).
â”‚   â”‚   â”‚   â”œâ”€â”€ CheckoutSummary.test.tsx            # Test del cÃ¡lculo de totales finales.
â”‚   â”‚   â”‚   â”œâ”€â”€ CheckoutSummary.tsx                 # Resumen de orden y descuentos aplicados (React).
â”‚   â”‚   â”‚   â””â”€â”€ styles/                             # Estilos del flujo de checkout.
â”‚   â”‚   â”‚       â”œâ”€â”€ CheckoutForm.module.css         # DiseÃ±o del formulario de facturaciÃ³n.
â”‚   â”‚   â”‚       â””â”€â”€ CheckoutSummary.module.css      # EstÃ©tica del resumen lateral de orden.
â”‚   â”‚   â”œâ”€â”€ common/                                 # Componentes transversales del sistema.
â”‚   â”‚   â”‚   â”œâ”€â”€ ConfirmationModal.astro             # Ventana emergente de confirmaciÃ³n UI.
â”‚   â”‚   â”‚   â”œâ”€â”€ LoadingSpinner.test.tsx             # Test del componente de carga global.
â”‚   â”‚   â”‚   â”œâ”€â”€ LoadingSpinner.tsx                  # AnimaciÃ³n premium de espera asÃ­ncrona.
â”‚   â”‚   â”‚   â”œâ”€â”€ Notifications.test.tsx              # Test del sistema de avisos Sileo.
â”‚   â”‚   â”‚   â”œâ”€â”€ Notifications.tsx                   # UI de notificaciones estilo push interactiva.
â”‚   â”‚   â”‚   â”œâ”€â”€ PageCard.astro                      # Contenedor Glassmorphism para vistas centradas.
â”‚   â”‚   â”‚   â””â”€â”€ styles/                             # Estilos comunes modulares.
â”‚   â”‚   â”‚       â”œâ”€â”€ ConfirmationModal.module.css    # DiseÃ±o del modal de confirmaciÃ³n.
â”‚   â”‚   â”‚       â”œâ”€â”€ LoadingSpinner.module.css       # AnimaciÃ³n neÃ³n del spinner.
â”‚   â”‚   â”‚       â””â”€â”€ PageCard.module.css             # EstÃ©tica Glassmorphism de las tarjetas.
â”‚   â”‚   â”œâ”€â”€ products/                               # Dominio del catÃ¡logo de productos.
â”‚   â”‚   â”‚   â”œâ”€â”€ ActiveFilters.astro                 # Tags interactivos de filtrado activo.
â”‚   â”‚   â”‚   â”œâ”€â”€ AddToCartButton.test.tsx            # Test del botÃ³n de acciÃ³n principal.
â”‚   â”‚   â”‚   â”œâ”€â”€ AddToCartButton.tsx                 # LÃ³gica de adiciÃ³n al carrito (React).
â”‚   â”‚   â”‚   â”œâ”€â”€ AddToCartModal.test.tsx             # Test del modal de Ã©xito de adiciÃ³n.
â”‚   â”‚   â”‚   â”œâ”€â”€ AddToCartModal.tsx                  # Modal transicional de producto aÃ±adido (React).
â”‚   â”‚   â”‚   â”œâ”€â”€ FeaturedProducts.astro              # Grilla de destacados para el home.
â”‚   â”‚   â”‚   â”œâ”€â”€ FilterButton.astro                  # Disparador del modal de filtros neÃ³n.
â”‚   â”‚   â”‚   â”œâ”€â”€ FilterModal.astro                   # Panel de filtrado avanzado por marcas/precio.
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductCard.astro                   # Tarjeta individual con efectos tÃ©rmicos.
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductCarousel.astro               # Motor de carrusel interactivo neÃ³n.
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductControls.astro               # Barra de ordenamiento y visualizaciÃ³n.
â”‚   â”‚   â”‚   â”œâ”€â”€ SortSelect.astro                    # Selector de ordenamiento selectivo.
â”‚   â”‚   â”‚   â””â”€â”€ styles/                             # Estilos del dominio de productos.
â”‚   â”‚   â”‚       â”œâ”€â”€ ActiveFilters.module.css        # DiseÃ±o de tags de filtros activos.
â”‚   â”‚   â”‚       â”œâ”€â”€ AddToCartModal.module.css       # EstÃ©tica neÃ³n del modal de carrito.
â”‚   â”‚   â”‚       â”œâ”€â”€ FeaturedProducts.module.css     # Layout de la secciÃ³n de destacados.
â”‚   â”‚   â”‚       â”œâ”€â”€ ProductCard.module.css          # Efectos hover y bordes tÃ©rmicos neÃ³n.
â”‚   â”‚   â”‚       â”œâ”€â”€ ProductCarousel.module.css      # ConfiguraciÃ³n visual del slider neÃ³n.
â”‚   â”‚   â”‚       â””â”€â”€ controls.module.css             # Estilos de la barra de herramientas.
â”‚   â”‚   â”œâ”€â”€ promotions/                             # GestiÃ³n de campaÃ±as visuales.
â”‚   â”‚   â”‚   â”œâ”€â”€ PromotionHero.astro                 # Banner interactivo de grandes ofertas.
â”‚   â”‚   â”‚   â””â”€â”€ styles/                             # EstÃ©tica de las promociones.
â”‚   â”‚   â”‚       â””â”€â”€ PromotionHero.module.css        # Animaciones y gradientes del hero.
â”‚   â”‚   â””â”€â”€ shared/                                 # Componentes compartidos por todo el sistema.
â”‚   â”‚       â””â”€â”€ UserDropdown.astro                  # MenÃº desplegable interactivo de usuario.
â”‚   â”œâ”€â”€ layouts/                                    # Wrapper y estructuras base.
â”‚   â”‚   â”œâ”€â”€ AdminLayout.astro                       # Esqueleto de visualizaciÃ³n para pÃ¡ginas /admin.
â”‚   â”‚   â”œâ”€â”€ Footer.astro                            # Pie de pÃ¡gina responsivo y legal.
â”‚   â”‚   â”œâ”€â”€ Layout.astro                            # Estructura HTML5 inicial (SEO & TipografÃ­a).
â”‚   â”‚   â”œâ”€â”€ Navbar.astro                            # NavegaciÃ³n jerÃ¡rquica con buscador unificado.
â”‚   â”‚   â””â”€â”€ styles/                                 # Estilos de la estructura envolvente.
â”‚   â”‚       â”œâ”€â”€ Footer.module.css                   # DiseÃ±o del pie de pÃ¡gina.
â”‚   â”‚       â””â”€â”€ Navbar.module.css                   # EstÃ©tica de la barra de navegaciÃ³n fija.
â”‚   â”œâ”€â”€ lib/                                        # Utilidades y configuraciÃ³n de librerÃ­as.
â”‚   â”‚   â”œâ”€â”€ api.test.ts                             # Test de interceptores del cliente Ky.
â”‚   â”‚   â”œâ”€â”€ api.ts                                  # Cliente fetch centralizado con Auto-Refresh.
â”‚   â”‚   â”œâ”€â”€ dataReset.test.ts                       # Test de lÃ³gica de limpieza de cachÃ©.
â”‚   â”‚   â”œâ”€â”€ dataReset.ts                            # Herramientas de sincronizaciÃ³n con el seed.
â”‚   â”‚   â”œâ”€â”€ url.test.ts                             # Test unitario de la utilidad de URLs de imagen.
â”‚   â”‚   â””â”€â”€ url.ts                                  # Utilidad centralizada para el manejo de URLs de imÃ¡genes.
â”‚   â”œâ”€â”€ pages/                                      # Sistema de rutas basado en archivos (SSR).
â”‚   â”‚   â”œâ”€â”€ about.astro                             # PÃ¡gina de informaciÃ³n institucional.
â”‚   â”‚   â”œâ”€â”€ admin/                                  # Panel privado de monitoreo de negocio.
â”‚   â”‚   â”‚   â”œâ”€â”€ analytics.astro                     # Dashboard de analÃ­ticas avanzadas.
â”‚   â”‚   â”‚   â”œâ”€â”€ categories.astro                    # GestiÃ³n jerÃ¡rquica de categorÃ­as (CRUD).
â”‚   â”‚   â”‚   â”œâ”€â”€ characteristics.astro               # GestiÃ³n de atributos de producto (CRUD).
â”‚   â”‚   â”‚   â”œâ”€â”€ claims.astro                        # GestiÃ³n de reclamos e incidencias (CRUD).
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard.astro                     # Dashboard con mÃ©tricas y tendencias reales.
â”‚   â”‚   â”‚   â”œâ”€â”€ products.astro                      # GestiÃ³n del catÃ¡logo de productos (CRUD).
â”‚   â”‚   â”‚   â”œâ”€â”€ promotions.astro                    # GestiÃ³n de campaÃ±as y ofertas (Cards).
â”‚   â”‚   â”‚   â”œâ”€â”€ sales.astro                         # GestiÃ³n y auditorÃ­a de ventas globales.
â”‚   â”‚   â”‚   â”œâ”€â”€ support.astro                       # GestiÃ³n de tickets de soporte y consultas.
â”‚   â”‚   â”‚   â”œâ”€â”€ users.astro                         # GestiÃ³n del catÃ¡logo de usuarios (CRUD).
â”‚   â”‚   â”‚   â””â”€â”€ styles/                             # EstÃ©tica del panel administrativo.
â”‚   â”‚   â”‚       â””â”€â”€ dashboard.module.css            # DiseÃ±o premium del dashboard.
â”‚   â”‚   â”œâ”€â”€ api/                                    # Puntos de conexiÃ³n internos del servidor.
â”‚   â”‚   â”œâ”€â”€ cart.astro                              # Vista completa del carrito de compras.
â”‚   â”‚   â”œâ”€â”€ checkout/                               # Rutas del proceso de pago.
â”‚   â”‚   â”‚   â”œâ”€â”€ failure.astro                       # Vista informativa de pago fallido.
â”‚   â”‚   â”‚   â”œâ”€â”€ success.astro                       # Vista de confirmaciÃ³n de compra exitosa.
â”‚   â”‚   â”‚   â””â”€â”€ styles/                             # Estilos del checkout.
â”‚   â”‚   â”‚       â”œâ”€â”€ failure.module.css              # EstÃ©tica visual del error.
â”‚   â”‚   â”‚       â””â”€â”€ success.module.css              # DiseÃ±o premium de la confirmaciÃ³n.
â”‚   â”‚   â”œâ”€â”€ checkout.astro                          # PÃ¡gina maestra de finalizaciÃ³n de orden.
â”‚   â”‚   â”œâ”€â”€ coming-soon.astro                       # Placeholder para secciones en desarrollo.
â”‚   â”‚   â”œâ”€â”€ contacto.astro                          # Formulario de ayuda y soporte tÃ©cnico.
â”‚   â”‚   â”œâ”€â”€ faq.astro                               # Centro de respuestas y preguntas frecuentes.
â”‚   â”‚   â”œâ”€â”€ index.astro                             # Home page y portal de entrada.
â”‚   â”‚   â”œâ”€â”€ login.astro                             # Portal de ingreso de usuario.
â”‚   â”‚   â”œâ”€â”€ new-arrivals.astro                      # Listado dinÃ¡mico de novedades del mes.
â”‚   â”‚   â”œâ”€â”€ offers.astro                            # CatÃ¡logo exclusivo de rebajas actuales.
â”‚   â”‚   â”œâ”€â”€ orders/                                 # Post-compra y seguimiento de Ã³rdenes.
â”‚   â”‚   â”‚   â”œâ”€â”€ index.astro                         # Historial completo de compras del usuario.
â”‚   â”‚   â”‚   â”œâ”€â”€ [id].astro                          # Detalle tÃ©cnico de una compra especÃ­fica.
â”‚   â”‚   â”‚   â””â”€â”€ styles/                             # EstÃ©tica del historial.
â”‚   â”‚   â”‚       â”œâ”€â”€ order-detail.module.css         # DiseÃ±o del desglose de orden.
â”‚   â”‚   â”‚       â””â”€â”€ orders-list.module.css          # Estructura del listado de historial.
â”‚   â”‚   â”œâ”€â”€ productos/                              # CatÃ¡logo dinÃ¡mico e interactivo.
â”‚   â”‚   â”‚   â”œâ”€â”€ [id].astro                          # Ficha tÃ©cnica individual de producto (PDP).
â”‚   â”‚   â”‚   â””â”€â”€ styles/                             # EstÃ©tica de la ficha de producto.
â”‚   â”‚   â”‚       â””â”€â”€ [id].module.css                 # DiseÃ±o detallado de la pÃ¡gina de producto.
â”‚   â”‚   â”œâ”€â”€ profile.astro                           # Centro de gestiÃ³n de cuenta de usuario.
â”‚   â”‚   â”œâ”€â”€ register.astro                          # Formulario de creaciÃ³n de cuenta neÃ³n.
â”‚   â”‚   â”œâ”€â”€ search.astro                            # Resultados de bÃºsqueda con filtros dinÃ¡micos.
â”‚   â”‚   â”œâ”€â”€ styles/                                 # MÃ³dulos CSS de pÃ¡ginas especÃ­ficas.
â”‚   â”‚   â”‚   â”œâ”€â”€ about.module.css
â”‚   â”‚   â”‚   â”œâ”€â”€ coming-soon.module.css
â”‚   â”‚   â”‚   â”œâ”€â”€ contacto.module.css
â”‚   â”‚   â”‚   â”œâ”€â”€ faq.module.css
â”‚   â”‚   â”‚   â”œâ”€â”€ index.module.css
â”‚   â”‚   â”‚   â”œâ”€â”€ login.module.css
â”‚   â”‚   â”‚   â”œâ”€â”€ profile.module.css
â”‚   â”‚   â”‚   â”œâ”€â”€ register.module.css
â”‚   â”‚   â”‚   â”œâ”€â”€ search.module.css
â”‚   â”‚   â”‚   â””â”€â”€ terminos.module.css
â”‚   â”‚   â””â”€â”€ terminos.astro                          # DocumentaciÃ³n legal y tÃ©rminos de uso.
â”‚   â”œâ”€â”€ scripts/                                    # LÃ³gica interactiva cliente (Islands logic).
â”‚   â”‚   â”œâ”€â”€ auth-login.test.ts                      # Test de validaciÃ³n de credenciales.
â”‚   â”‚   â”œâ”€â”€ auth-login.ts                           # LÃ³gica de login y manejo de tokens.
â”‚   â”‚   â”œâ”€â”€ auth-register.test.ts                   # Test de validaciÃ³n de registro.
â”‚   â”‚   â”œâ”€â”€ auth-register.ts                        # LÃ³gica de creaciÃ³n de cuentas y Captcha.
â”‚   â”‚   â”œâ”€â”€ carousel.test.ts                        # Test de mecÃ¡nica del slider.
â”‚   â”‚   â”œâ”€â”€ carousel.ts                             # Animaciones del carrusel neÃ³n.
â”‚   â”‚   â”œâ”€â”€ checkout-failure.test.ts                # Test de flujo de error.
â”‚   â”‚   â”œâ”€â”€ checkout-failure.ts                     # LÃ³gica visual tras falla de pago.
â”‚   â”‚   â”œâ”€â”€ checkout-success.test.ts                # Test de flujo de Ã©xito.
â”‚   â”‚   â”œâ”€â”€ checkout-success.ts                     # LÃ³gica de limpieza y confeti post-compra.
â”‚   â”‚   â”œâ”€â”€ contact.test.ts                         # Test de validaciÃ³n de formulario.
â”‚   â”‚   â”œâ”€â”€ contact.ts                              # LÃ³gica de envÃ­o de tickets de soporte.
â”‚   â”‚   â”œâ”€â”€ filter-modal.test.ts                    # Test de apertura/cierre de modal.
â”‚   â”‚   â”œâ”€â”€ filter-modal.ts                         # LÃ³gica interactiva de filtros avanzados.
â”‚   â”‚   â”œâ”€â”€ navbar.test.ts                          # Test de bÃºsqueda y menÃºs fijos.
â”‚   â”‚   â”œâ”€â”€ navbar.ts                               # NavegaciÃ³n y bÃºsqueda predictiva CLIENT-SIDE.
â”‚   â”‚   â”œâ”€â”€ order-detail.test.ts                    # Test de visualizaciÃ³n de Ã­tems.
â”‚   â”‚   â”œâ”€â”€ order-detail.ts                         # LÃ³gica interactiva de detalle de orden.
â”‚   â”‚   â”œâ”€â”€ orders-list.test.ts                     # Test de paginaciÃ³n de Ã³rdenes.
â”‚   â”‚   â”œâ”€â”€ orders-list.ts                          # Inyectado dinÃ¡mico del historial de compras.
â”‚   â”‚   â”œâ”€â”€ profile.test.ts                         # Test de ediciÃ³n de perfil.
â”‚   â”‚   â”œâ”€â”€ profile.ts                              # LÃ³gica de gestiÃ³n de datos de cuenta.
â”‚   â”‚   â”œâ”€â”€ promotion-hero.test.ts                  # Test de animaciÃ³n del hero.
â”‚   â”‚   â”œâ”€â”€ promotion-hero.ts                       # Control de diapositivas de la secciÃ³n hero.
â”‚   â”‚   â”œâ”€â”€ search-filters.test.ts                  # Test de sincronizaciÃ³n de filtros.
â”‚   â”‚   â”œâ”€â”€ search-filters.ts                       # CoordinaciÃ³n de estados UI de bÃºsqueda.
â”‚   â”‚   â”œâ”€â”€ user-dropdown.test.ts                   # Tests del componente menÃº de opciones de usuario.
â”‚   â”‚   â””â”€â”€ user-dropdown.ts                        # LÃ³gica interactiva del menÃº de opciones y vistas de rol.
â”‚   â”œâ”€â”€ services/                                   # AbstracciÃ³n de llamadas a la API (Business Logic).
â”‚   â”‚   â”œâ”€â”€ admin.service.test.ts                   # Test de obtenciÃ³n de estadÃ­sticas.
â”‚   â”‚   â”œâ”€â”€ admin.service.ts                        # IntegraciÃ³n con endpoints administrativos.
â”‚   â”‚   â”œâ”€â”€ auth.service.test.ts                    # Test unitario de autenticaciÃ³n global.
â”‚   â”‚   â”œâ”€â”€ auth.service.ts                         # GestiÃ³n central de login/logout/tokens.
â”‚   â”‚   â”œâ”€â”€ brand.service.test.ts                   # Test de listado de marcas.
â”‚   â”‚   â”œâ”€â”€ brand.service.ts                        # CatÃ¡logo de editoriales registradas.
â”‚   â”‚   â”œâ”€â”€ category.service.test.ts                # Test de Ã¡rbol de categorÃ­as.
â”‚   â”‚   â”œâ”€â”€ category.service.ts                     # Estructura jerÃ¡rquica de navegaciÃ³n.
â”‚   â”‚   â”œâ”€â”€ characteristics.service.test.ts         # Test de persistencia de atributos.
â”‚   â”‚   â”œâ”€â”€ characteristics.service.ts              # IntegraciÃ³n con el mÃ³dulo de caracterÃ­sticas.
â”‚   â”‚   â”œâ”€â”€ claims.service.test.ts                  # Test de gestiÃ³n de reclamos.
â”‚   â”‚   â”œâ”€â”€ claims.service.ts                       # IntegraciÃ³n con el mÃ³dulo de soporte post-venta.
â”‚   â”‚   â”œâ”€â”€ filter.service.test.ts                  # Test de normalizaciÃ³n de filtros.
â”‚   â”‚   â”œâ”€â”€ filter.service.ts                       # Adaptador de parÃ¡metros de bÃºsqueda.
â”‚   â”‚   â”œâ”€â”€ product.service.test.ts                 # Test unitario de catÃ¡logo.
â”‚   â”‚   â”œâ”€â”€ product.service.ts                      # GestiÃ³n de productos, filtros y bÃºsqueda.
â”‚   â”‚   â”œâ”€â”€ promotion.service.test.ts               # Test de campaÃ±as activas.
â”‚   â”‚   â”œâ”€â”€ promotion.service.ts                    # ObtenciÃ³n de banners y descuentos.
â”‚   â”‚   â”œâ”€â”€ promotions.service.ts                   # Servicio CRUD de promociones para admin.
â”‚   â”‚   â”œâ”€â”€ purchase.service.test.ts                # Test unitario de Ã³rdenes.
â”‚   â”‚   â”œâ”€â”€ purchase.service.ts                     # GestiÃ³n de transacciones y estados.
â”‚   â”‚   â”œâ”€â”€ subcategory.service.test.ts             # Test de subcategorÃ­as especÃ­ficas.
â”‚   â”‚   â”œâ”€â”€ subcategory.service.ts                  # ClasificaciÃ³n secundaria del catÃ¡logo.
â”‚   â”‚   â”œâ”€â”€ support.service.test.ts                 # Test de envÃ­o de mensajes.
â”‚   â”‚   â”œâ”€â”€ support.service.ts                      # Enlace con el mÃ³dulo de ayuda.
â”‚   â”‚   â”œâ”€â”€ user.service.test.ts                    # Test unitario de data de perfil.
â”‚   â”‚   â””â”€â”€ user.service.ts                         # ObtenciÃ³n y actualizaciÃ³n de perfiles.
â”‚   â”œâ”€â”€ store/                                      # GestiÃ³n de estado reactivo global (Nanostores).
â”‚   â”‚   â”œâ”€â”€ adminStore.test.ts                      # Tests unitarios del estado de entorno de administraciÃ³n.
â”‚   â”‚   â”œâ”€â”€ adminStore.ts                           # Estado de persistencia nativo para vista binaria.
â”‚   â”‚   â”œâ”€â”€ cartStore.test.ts                       # Test de persistencia y sumatorias.
â”‚   â”‚   â”œâ”€â”€ cartStore.ts                            # Estado atomizado del carrito de compras.
â”‚   â”‚   â”œâ”€â”€ checkoutStore.test.ts                   # Test de validaciÃ³n de pago.
â”‚   â”‚   â”œâ”€â”€ checkoutStore.ts                        # Coordinador del flujo persistente de pago.
â”‚   â”‚   â”œâ”€â”€ promotionEngine.test.ts                 # Test de lÃ³gica de descuentos neÃ³n.
â”‚   â”‚   â””â”€â”€ promotionEngine.ts                      # Motor de cÃ¡lculo complejo de promociones.
â”‚   â”œâ”€â”€ styles/                                     # Sistema de diseÃ±o y variables globales.
â”‚   â”‚   â”œâ”€â”€ globals.css                             # Tokens neÃ³n, tipografÃ­a y resets globales.
â”‚   â”‚   â””â”€â”€ main.css                                # Reglas base y utilidades de estilo.
â”‚   â”œâ”€â”€ types/                                      # Definiciones estrictas de TypeScript (Domain).
â”‚   â”‚   â”œâ”€â”€ admin.types.ts                          # Tipos de mÃ©tricas y dashboard admin.
â”‚   â”‚   â”œâ”€â”€ auth.types.ts                           # Tipos de sesiÃ³n, JWT e inputs auth.
â”‚   â”‚   â”œâ”€â”€ brand.types.ts                          # Esquema de marcas y logotipos.
â”‚   â”‚   â”œâ”€â”€ cart.types.ts                           # Estructura de Ã­tems y estado del carrito.
â”‚   â”‚   â”œâ”€â”€ category.types.ts                       # DefiniciÃ³n de Ã¡rbol de categorÃ­as.
â”‚   â”‚   â”œâ”€â”€ characteristics.types.ts                # Tipos de atributos dinÃ¡micos (M:N).
â”‚   â”‚   â”œâ”€â”€ checkout.types.ts                       # Tipos de facturaciÃ³n, envÃ­o y pago.
â”‚   â”‚   â”œâ”€â”€ common.types.ts                         # Errores, paginaciÃ³n y respuestas API.
â”‚   â”‚   â”œâ”€â”€ claims.types.ts                         # Estructura de reclamos e incidencias.
â”‚   â”‚   â”œâ”€â”€ product.types.ts                        # Atributos de producto y variantes.
â”‚   â”‚   â”œâ”€â”€ promotion.types.ts                      # Esquema de banners y tipos de rebaja.
â”‚   â”‚   â”œâ”€â”€ promotions.types.ts                     # Tipos para el mÃ³dulo de promociones admin.
â”‚   â”‚   â”œâ”€â”€ purchase.types.ts                       # DefiniciÃ³n de Ã³rdenes y transacciones.
â”‚   â”‚   â”œâ”€â”€ subcategory.types.ts                    # Interfaces de clÃºsteres secundarios.
â”‚   â”‚   â”œâ”€â”€ support.types.ts                        # Estructura de tickets de contacto.
â”‚   â”‚   â””â”€â”€ user.types.ts                           # Perfil, roles y atributos de usuario.
â”‚   â”œâ”€â”€ env.d.ts                                    # Tipado estricto para variables de entorno.
â”‚   â””â”€â”€ middleware.ts                               # Middleware global de autenticaciÃ³n e interceptores Astro.
â”œâ”€â”€ playwright.config.ts                            # ConfiguraciÃ³n de tests E2E con Playwright.
â”œâ”€â”€ package.json                                    # Scripts, metadata y dependencias (pnpm).
â””â”€â”€ README.md                                       # DocumentaciÃ³n principal del frontend.
</code></pre>

<hr>

<h2>ğŸ“š Skills y Directrices</h2>
<p>Este proyecto se rige por un estricto conjunto de reglas arquitectÃ³nicas y de calidad de cÃ³digo denominadas <b>Skills</b>, ubicadas en el directorio <code>.agent/skills/</code>. PodÃ©s consultar el catÃ¡logo maestro en:</p>
<ul>
    <li><b><a href=".agent/skills/global-skills/SKILL.md">Global Skills Catalog (Frontend)</a></b>: VisiÃ³n arquitectÃ³nica y registro maestro de todas las convenciones del repositorio.</li>
</ul>

<h3>Directrices Clave de Desarrollo</h3>
<p>El incumplimiento de cualquiera de estas directrices resultarÃ¡ en un rechazo de PR:</p>
<ul>
    <li><b><a href=".agent/skills/api-communication/SKILL.md">api-communication</a></b>: Reglas mandatorias para la comunicaciÃ³n con la API usando el cliente central `api`.</li>
    <li><b><a href=".agent/skills/astro/SKILL.md">astro</a></b> & <b><a href=".agent/skills/astro-scripts/SKILL.md">astro-scripts</a></b>: Uso estricto de Islands Architecture, hidrataciÃ³n diferida (<code>client:visible</code>/<code>client:load</code>) y extracciÃ³n obligatoria de TS complejo fuera de los archivos <code>.astro</code>.</li>
    <li><b><a href=".agent/skills/clean-structure/SKILL.md">clean-structure</a></b> & <b><a href=".agent/skills/modular-architecture/SKILL.md">modular-architecture</a></b>: SeparaciÃ³n de dominios estricta, organizaciÃ³n atÃ³mica de componentes y prohibiciÃ³n de acoplar lÃ³gica de API directamente al Virtual DOM de React.</li>
    <li><b><a href=".agent/skills/code-quality/SKILL.md">code-quality</a></b>: Impone lineamientos de cÃ³digo limpio, legibilidad extrema y la polÃ­tica estricta de "Cero Comentarios Innecesarios" (el cÃ³digo debe documentarse a sÃ­ mismo).</li>
    <li><b><a href=".agent/skills/css-modules/SKILL.md">css-modules</a></b> & <b><a href=".agent/skills/responsive-design/SKILL.md">responsive-design</a></b>: Enfoque colaborativo sin colisiones de clases globales y diseÃ±o <i>Mobile-First</i> evitando magic numbers.</li>
    <li><b><a href=".agent/skills/performance/SKILL.md">performance</a></b>: Mandato sobre Core Web Vitals, optimizando estrictamente el <i>Largest Contentful Paint</i> y <i>Cumulative Layout Shift</i>.</li>
    <li><b><a href=".agent/skills/readme-auto-sync/SKILL.md">readme-auto-sync</a></b>: Reglas obligatorias para sincronizar automÃ¡ticamente el README.md al modificar la estructura del proyecto o aÃ±adir tests.</li>
    <li><b><a href=".agent/skills/sileo-notifications/SKILL.md">sileo-notifications</a></b>: Ãšnica vÃ­a aceptada en toda la UI para lanzar feedback visual (<code>window.triggerSileo</code>). Prohibidos los alertas genÃ©ricos nativos.</li>
    <li><b><a href=".agent/skills/skill-generator/SKILL.md">skill-generator</a></b>: Herramienta interna para orquestar y generar nuevas directrices manteniendo la cohesiÃ³n e integridad del ecosistema MarketFlex.</li>
    <li><b><a href=".agent/skills/test-enforcement/SKILL.md">test-enforcement</a></b> & <b><a href=".agent/skills/test/SKILL.md">test</a></b>: Testeo de componentes UI y lÃ³gica aislada (<code>.ts</code>, <code>.tsx</code>). Deben estar acompaÃ±ados forzosamente por su archivo <code>.test.ts(x)</code>.</li>
</ul>

<hr>

<h2>ğŸ§ª Testing y Calidad</h2>
<p>
  El frontend de <b>MarketFlex</b> implementa una estrategia de prueba robusta y dual, diseÃ±ada para garantizar que tanto la lÃ³gica de negocio interna como la experiencia del usuario final sean impecables.
</p>

<ul>
  <li><b>ğŸ›¡ï¸ Unit Testing: Cobertura Total de Componentes</b>
    <p>Nuestra arquitectura de testing garantiza que ningÃºn fragmento de lÃ³gica de negocio o interacciÃ³n visual llegue a producciÃ³n sin ser validado. Contamos con una cobertura del 100% en todos los dominios crÃ­ticos del sistema (56 archivos de test):</p>
    <table>
      <thead>
        <tr>
          <th>CategorÃ­a</th>
          <th>Pruebas Destacadas</th>
          <th>Objetivo de la Prueba</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><b>React Components (UI)</b></td>
          <td><code>CartView</code>, <code>CheckoutForm</code>, <code>CheckoutSummary</code>, <code>AddToCartButton</code>, <code>AdminSidebar</code>, <code>DashboardView</code>, <code>StatTable</code>, <code>Notifications</code>, <code>BrandsListView</code>, <code>CategoriesListView</code></td>
          <td>Valida renderizado correcto, estados de carga, manejo de inputs, cruces de vistas (Client/Admin) y comportamiento de componentes interactivos crÃ­ticos.</td>
        </tr>
        <tr>
          <td><b>Core Interactive Logic</b></td>
          <td><code>auth-login</code>, <code>carousel</code>, <code>order-detail</code>, <code>user-dropdown</code>, <code>filter-modal</code>, <code>checkout-success</code></td>
          <td>Asegura el funcionamiento aislado de la lÃ³gica de cliente de las "Astro Islands" (Manejo de DOM Vanilla, Eventos, Animaciones y Redirects).</td>
        </tr>
        <tr>
          <td><b>State & Engines</b></td>
          <td><code>cartStore</code>, <code>checkoutStore</code>, <code>adminStore</code>, <code>promotionEngine</code></td>
          <td>Pruebas de alta complejidad sobre el motor de descuentos, coordinaciÃ³n del flujo de compra y persistencia de modos (ej. Vista Administrador).</td>
        </tr>
        <tr>
          <td><b>API & Infra Services</b></td>
          <td><code>auth.service</code>, <code>product.service</code>, <code>purchase.service</code>, <code>category.service</code>, <code>filter.service</code>, <code>brand.service</code></td>
          <td>Verifica la comunicaciÃ³n con el backend, transformaciÃ³n de datos y el sistema de Auto-Refresh de tokens JWT.</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li><b>ğŸ­ Pruebas E2E (End-to-End):</b> Implementadas con <a href="https://playwright.dev/">Playwright</a>. Estas pruebas simulan el comportamiento real del usuario en navegadores modernos, validando integraciones complejas que los tests unitarios no pueden capturar.</li>
  <li><b>ğŸ”— Mocking de API:</b> Mediante Mock Service Worker (MSW), simulamos el comportamiento del backend para realizar pruebas deterministas y rÃ¡pidas sin depender de una base de datos real.</li>
</ul>

<hr>

<h3>ğŸ­ Playwright E2E: El Flujo Maestro</h3>
<p>
  La joya de nuestra corona en testing es el <code>marketflex.spec.ts</code>. Este test no solo verifica que la pÃ¡gina cargue, sino que ejecuta el <b>"Foundational Flow"</b> del negocio, asegurando que un cliente pueda completar su propÃ³sito de principio a fin.
</p>

<table>
  <thead>
    <tr>
      <th>Fase</th>
      <th>DescripciÃ³n del Test</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><b>1. AutenticaciÃ³n</b></td>
      <td>Navega al login, ingresa credenciales y verifica el mensaje de bienvenida dinÃ¡mico.</td>
    </tr>
    <tr>
      <td><b>2. Descubrimiento</b></td>
      <td>Explora la secciÃ³n de ofertas, selecciona un producto real y navega a su ficha tÃ©cnica (PDP).</td>
    </tr>
    <tr>
      <td><b>3. InteracciÃ³n y Compra</b></td>
      <td>Agrega un producto al carrito, verifica la notificaciÃ³n de Ã©xito dinÃ¡mica y procede al panel lateral emergente.</td>
    </tr>
    <tr>
      <td><b>4. TransacciÃ³n Segura</b></td>
      <td>Visita el checkout, completa un largo formulario de validaciÃ³n en tiempo real, verifica el coste total con envÃ­os e impacta la compra simulada en la base de datos.</td>
    </tr>
    <tr>
      <td><b>5. FidelizaciÃ³n y Tracking</b></td>
      <td>Verifica la pantalla de "Order Success", la lluvia de confeti (canvas real) y navega al historial de mis compras para rastrear la orden original.</td>
    </tr>
  </tbody>
</table>

<h3>Comandos de Test</h3>
<pre>
# ğŸ§ª Ejecutar tests unitarios (Servicios y Scripts)
pnpm test
# ğŸ­ Ejecutar suite E2E completa (Modo Headed)
pnpm run test:e2e
# ğŸ› ï¸ Abrir el Playwright Test Runner (Interfaz UI Interactiva)
pnpm run test:e2e:ui
</pre>

<hr>

<h2>âš¡ Rendimiento y SEO (Core Web Vitals)</h2>
<p>
  El frontend fue construido con una fuerte obsesiÃ³n por el rendimiento, asegurando una experiencia de usuario instantÃ¡nea y mÃ©tricas perfectas para motores de bÃºsqueda.
</p>
<ul>
  <li><b>Zero JS por defecto:</b> Gracias al compilador de Astro, las pÃ¡ginas como el CatÃ¡logo, el Home, o el Detalle de Producto se envÃ­an al navegador como HTML puro de carga inicial instantÃ¡nea.</li>
  <li><b>HidrataciÃ³n Diferida:</b> Solo los componentes estrictamente interactivos (<code>CartView</code>, <code>CheckoutForm</code>) envÃ­an JavaScript usando la directiva <code>client:load</code> o <code>client:visible</code> (cargan el script sÃ³lo cuando el usuario hace scroll hasta ellos).</li>
  <li><b>OptimizaciÃ³n SEO SemÃ¡ntica:</b> Uso estricto de etiquetas meta en <code>Layout.astro</code>, URLs amigables pre-generadas (ej. <code>/productos/123</code> en vez de <code>/product?id=123</code>) para correcta indexaciÃ³n orgÃ¡nica.</li>
  <li><b>Assets Premium:</b> TipografÃ­a <i>Inter</i> optimizada localmente vÃ­a <code>@fontsource/inter</code> y recursos servidos desde cachÃ©.</li>
</ul>

<hr>

<h2>ğŸ” Variables de Entorno</h2>
<p>Crea un archivo <code>.env</code> en la raÃ­z del proyecto con las siguientes variables:</p>
<pre>
PORT=2611
PUBLIC_API_URL=http://localhost:5979/api
PUBLIC_GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
PUBLIC_FACEBOOK_APP_ID=your_facebook_app_id
PUBLIC_RECAPTCHA_SITE_KEY=your_recaptcha_site_key
</pre>

<h2>ğŸš€ InstalaciÃ³n</h2>
<pre>
git clone https://github.com/agussantinelli/MarketFlex-FrontEnd.git
cd MarketFlex-FrontEnd
pnpm install
pnpm dev
</pre>

<hr>

<h2>ğŸ’» Comandos pnpm disponibles</h2>

<table>
  <thead>
    <tr>
      <th>Comando</th>
      <th>DescripciÃ³n</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><pre><code class="language-bash">pnpm dev</code></pre></td>
      <td>Inicia el servidor de desarrollo local de Astro (por defecto en <code>localhost:2611</code>) con soporte interactivo HMR.</td>
    </tr>
    <tr>
      <td><pre><code class="language-bash">pnpm build</code></pre></td>
      <td>Construye la aplicaciÃ³n para producciÃ³n, generando los assets estÃ¡ticos y preparando la lÃ³gica SSR dentro de la carpeta <code>dist/</code>.</td>
    </tr>
    <tr>
      <td><pre><code class="language-bash">pnpm preview</code></pre></td>
      <td>Crea un pequeÃ±o servidor estÃ¡tico local para previsualizar y testear la aplicaciÃ³n generada por <code>pnpm build</code> tal cual se verÃ¡ en producciÃ³n.</td>
    </tr>
    <tr>
      <td><pre><code class="language-bash">pnpm astro</code></pre></td>
      <td>Invoca la CLI nativa de Astro para utilizar comandos avanzados (ej. <code>astro check</code>, <code>astro sync</code>, <code>astro add</code>).</td>
    </tr>
    <tr>
      <td><pre><code class="language-bash">pnpm test</code></pre></td>
      <td>Ejecuta Ãºnicamente una vez toda la suite de pruebas unitarias y de integraciÃ³n de Vitest de inicio a fin.</td>
    </tr>
    <tr>
      <td><pre><code class="language-bash">pnpm test:watch</code></pre></td>
      <td>Inicia la suite de Vitest en modo <i>watch</i> interactivo. Se reejecutarÃ¡n automÃ¡ticamente los tests al guardar un archivo modificado.</td>
    </tr>
    <tr>
      <td><pre><code class="language-bash">pnpm run test:e2e</code></pre></td>
      <td>Ejecuta la suite End-to-End de Playwright instanciando el navegador activamente en tu pantalla (<i>--headed</i>).</td>
    </tr>
    <tr>
      <td><pre><code class="language-bash">pnpm run test:e2e:ci</code></pre></td>
      <td>Ejecuta la suite de Playwright en modo silencioso o <i>headless</i> (sin UI). Ideal para los pipelines automatizados de GitHub Actions.</td>
    </tr>
    <tr>
      <td><pre><code class="language-bash">pnpm run test:e2e:ui</code></pre></td>
      <td>Inicia de forma local el Playwright Test Runner grÃ¡fico (en el puerto estÃ¡ndar) para debugear flujos y observar visualmente en detalle la interacciones E2E.</td>
    </tr>
  </tbody>
</table>

<hr>

<h2 align="left">âš–ï¸ Licencia y Propiedad Intelectual</h2>

<p align="left">
  Este proyecto es <b>propiedad intelectual privada</b> de AgustÃ­n Santinelli. No se otorga ninguna licencia de uso abierto. Puedes consultar los tÃ©rminos detallados en el archivo 
  <a href="LICENSE"><code>LICENSE</code></a> incluido en este repositorio.
</p>

<p align="left">
  <i>
    âš ï¸ <b>RestricciÃ³n Firme:</b> Queda terminantemente prohibida la copia, reproducciÃ³n, distribuciÃ³n o modificaciÃ³n de este cÃ³digo sin autorizaciÃ³n expresa del autor. Este repositorio se publica exclusivamente como exhibiciÃ³n de portafolio profesional.
  </i>
</p>
<hr />

<h2 align="left">ğŸš« Copyright Total</h2>

<p align="left">
  Este proyecto es propiedad intelectual exclusiva de <b>AgustÃ­n Santinelli</b>. No se aceptan contribuciones externas o forks para su uso pÃºblico sin previo acuerdo por escrito.
</p>

<p align="left">
  Si tienes sugerencias directas o deseas explorar colaboraciones comerciales, por favor contacta al autor: 
  <a href="mailto:agustinsantinelli@gmail.com">agustinsantinelli@gmail.com</a>.
</p>

<hr />

<p align="center">
  Desarrollado con mucho â¤ï¸ y ğŸ§‰ por <a href="https://github.com/agussantinelli">Agus Santinelli</a>
</p>
